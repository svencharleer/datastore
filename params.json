{"name":"Datastore","tagline":"Data Store for learning analytics events","body":"# Data Store for learning analytics events\r\n\r\nIf you want to collect data from social networks such as blogs and Twitter, do not heasitate to visit: https://github.com/jlsantoso/trackers\r\n\r\n## Related documents/publications/deliverables\r\n\r\n* Journal of Universal Computer Science (http://www.jucs.org/): Under review\r\n* weSPOT project (D5.3): http://wespot.net/public-deliverables\r\n\r\n## Installation\r\n\r\n- Install Node JS: https://nodejs.org/\r\n- Download our app: all the modules are also included in GitHub - check modules folder.\r\n- mongodb: modify the URL of your mongodb in the following file: routes/db.js\r\n- Execute the datastore: node start DS_server.js\r\n\r\n## Architecture\r\n\r\nThe following diagram highlights some components of the weSPOT architecture and illustrates how they realize tracking user data.\r\n![](https://raw.githubusercontent.com/weSPOT/wespot.github.io/master/images/EventDataStore.png)\r\n\r\n## Services definition\r\n\r\nThe main services defined are:\r\n\r\n### Get events\r\n\r\n* app.get(path.join(context, '/events'), getAllEventsJSONP) \r\n   - You can add all the parameters defined in the Schema (see bellow)\r\n\r\n### Store events\r\n\r\n* app.post(path.join(context, '/event'), storeEvent); \r\n    - Push single events\r\n* app.post(path.join(context, '/events'), storeEvents); \r\n    - Push array of events\r\n\r\nIf you want to avoid the cross-domain problem with JavaScript, you can use the following service and add your host to the list of allowed hosts:\r\n\r\n* app.post(path.join(context, '/eventc'), storeEventc);\r\n\r\n## Schema definition\r\n\r\nsee file routes/db.js\r\n\r\nThe schema definition is a simplification of xAPI: https://github.com/adlnet/xAPI-Spec/blob/master/xAPI.md\r\n\r\nThe schema is defined as:\r\n\r\n\r\n\r\n    var eventSchema = new Schema({\r\n    \r\n      username: String,\r\n\r\n      verb: String,\r\n\r\n      starttime: Date,\r\n\r\n      endtime: Date,\r\n\r\n      target: String,\r\n\r\n      object: String,\r\n\r\n      context: Schema.Types.Mixed,\r\n\r\n      location: Schema.Types.Mixed,\r\n\r\n      originalrequest: Schema.Types.Mixed\r\n    \r\n    },{collection:\"events\"});\r\n\r\n   \r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}